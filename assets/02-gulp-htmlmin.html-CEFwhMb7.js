import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o,c as l,b as n,d as s,e as t,a as i}from"./app-BYQ2Xouv.js";const c={},r=n("h2",{id:"插件介绍",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#插件介绍"},[n("span",null,"插件介绍")])],-1),u={href:"https://github.com/jackfranklin/gulp-load-plugins",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/jonschlinkert/gulp-htmlmin",target:"_blank",rel:"noopener noreferrer"},m=i(`<h2 id="文件目录结构" tabindex="-1"><a class="header-anchor" href="#文件目录结构"><span>文件目录结构</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>├── code-origin // 原始入口文件
│   ├── html
│      ├── index.html 
│      ├── other.html 
│      ├── xxxxx.html
├── code-mini   // 经过Gulp处理打包后的文件
├── node_modules
└── .gitignore
└── gulpfile.js 
└── package.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="相关依赖" tabindex="-1"><a class="header-anchor" href="#相关依赖"><span>相关依赖</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>npm install gulp@4 gulp-load-plugins@2 -D
npm install gulp-htmlmin@5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="gulpfile-js-配置" tabindex="-1"><a class="header-anchor" href="#gulpfile-js-配置"><span>gulpfile.js 配置</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> series<span class="token punctuation">,</span> parallel<span class="token punctuation">,</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 为了插件更便捷的引入</span>
<span class="token keyword">const</span> gulpLoadPlugins <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-load-plugins&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> htmlmin  <span class="token operator">=</span> gulpLoadPlugins<span class="token punctuation">.</span>htmlmin<span class="token punctuation">;</span>

<span class="token keyword">const</span> enterFileName   <span class="token operator">=</span> <span class="token string">&#39;code-origin&#39;</span> <span class="token comment">// 入口文件名</span>
<span class="token keyword">const</span> exportFileName  <span class="token operator">=</span> <span class="token string">&#39;code-mini&#39;</span>   <span class="token comment">// 输出文件名</span>

<span class="token keyword">const</span> <span class="token function-variable function">miniHtml</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 找到 文件名下所有文件夹下所有的.html文件</span>
  <span class="token comment">// 目录工整的话 可以书写成 \`\${enterFileName}/html/*.html\`</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>enterFileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/**/*.html</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlmin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token comment">// 压缩HTML</span>
      <span class="token literal-property property">collapseBooleanAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>     <span class="token comment">// 省略布尔属性值</span>
      <span class="token literal-property property">removeTagWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>           <span class="token comment">// 清除制表符的空白</span>
      <span class="token literal-property property">removeEmptyAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment">// 清除 空的属性值</span>
      <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                <span class="token comment">// 清除 HTML 中的注释</span>
      <span class="token literal-property property">removeScriptTypeAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token comment">// 删除&lt;script&gt;的type=&quot;text/javascript&quot;</span>
      <span class="token literal-property property">removeStyleLinkTypeAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 删除&lt;style&gt;和&lt;link&gt;的type=&quot;text/css&quot;</span>
      <span class="token literal-property property">minifyJS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                      <span class="token comment">// 压缩 html文件中的 script</span>
      <span class="token literal-property property">minifyCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                     <span class="token comment">// 压缩 html文件中的 style</span>
      <span class="token literal-property property">minifyURLs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>exportFileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>miniHtml <span class="token operator">=</span> miniHtml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="package-json-配置" tabindex="-1"><a class="header-anchor" href="#package-json-配置"><span>package.json 配置</span></a></h2><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gulp-es5-example&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tasks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gulp --tasks&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gulp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;miniHtml&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gulp miniHtml&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arisemarcher&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;gulp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gulp-load-plugins&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.7&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;gulp-htmlmin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="运行命令" tabindex="-1"><a class="header-anchor" href="#运行命令"><span>运行命令</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> run miniHtml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,10);function k(v,g){const a=p("ExternalLinkIcon");return o(),l("div",null,[r,n("ul",null,[n("li",null,[s("gulp-load-plugins 为了更便捷的引入gulp相关插件 "),n("a",u,[s("传送门"),t(a)])]),n("li",null,[s("gulp-htmlmin：提供了对html、htm文件的压缩 "),n("a",d,[s("传送门"),t(a)])])]),m])}const y=e(c,[["render",k],["__file","02-gulp-htmlmin.html.vue"]]),q=JSON.parse('{"path":"/pack/Gulp/02-gulp-htmlmin.html","title":"Gulp配置篇--压缩html","lang":"zh-CN","frontmatter":{"title":"Gulp配置篇--压缩html","sidebar":true,"excerpt":"千磨万击还坚韧，任尔东南西北风。-- 郑板桥","tag":["Gulp"],"category":["Gulp"],"description":"插件介绍 gulp-load-plugins 为了更便捷的引入gulp相关插件 传送门 gulp-htmlmin：提供了对html、htm文件的压缩 传送门 文件目录结构 相关依赖 gulpfile.js 配置 package.json 配置 运行命令","head":[["meta",{"property":"og:url","content":"https://arisemarcher.github.io/blog/blog/pack/Gulp/02-gulp-htmlmin.html"}],["meta",{"property":"og:site_name","content":"御神"}],["meta",{"property":"og:title","content":"Gulp配置篇--压缩html"}],["meta",{"property":"og:description","content":"插件介绍 gulp-load-plugins 为了更便捷的引入gulp相关插件 传送门 gulp-htmlmin：提供了对html、htm文件的压缩 传送门 文件目录结构 相关依赖 gulpfile.js 配置 package.json 配置 运行命令"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-17T10:31:16.000Z"}],["meta",{"property":"article:tag","content":"Gulp"}],["meta",{"property":"article:modified_time","content":"2024-03-17T10:31:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Gulp配置篇--压缩html\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-17T10:31:16.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"插件介绍","slug":"插件介绍","link":"#插件介绍","children":[]},{"level":2,"title":"文件目录结构","slug":"文件目录结构","link":"#文件目录结构","children":[]},{"level":2,"title":"相关依赖","slug":"相关依赖","link":"#相关依赖","children":[]},{"level":2,"title":"gulpfile.js 配置","slug":"gulpfile-js-配置","link":"#gulpfile-js-配置","children":[]},{"level":2,"title":"package.json 配置","slug":"package-json-配置","link":"#package-json-配置","children":[]},{"level":2,"title":"运行命令","slug":"运行命令","link":"#运行命令","children":[]}],"git":{"createdTime":1710142952000,"updatedTime":1710671476000,"contributors":[{"name":"arisemarcher","email":"2543061999@qq.com","commits":3}]},"readingTime":{"minutes":1.22,"words":366},"filePathRelative":"pack/Gulp/02-gulp-htmlmin.md","localizedDate":"2024年3月11日","autoDesc":true}');export{y as comp,q as data};
