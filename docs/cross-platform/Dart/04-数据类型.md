---
title: Dart æ•°æ®ç±»å‹
date: 2022/09/22 15:53
tags:
 - dart
categories:
 -  dart
---

### number

+ Dartä¸­çš„æ•°å­—ç”±ä¸‰ä¸ªå…³é”®å­—æè¿°
  - numæ•°å­—ç±»å‹ï¼ˆæ—¢å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å°æ•°ï¼‰
  - intè¡¨ç¤ºæ•´æ•°ï¼ˆå¿…é¡»æ˜¯æ•´æ•°ï¼‰
  - doubleè¡¨ç¤ºæµ®ç‚¹æ•°ï¼ˆæ—¢å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å°æ•°ï¼‰
+ å¸¸ç”¨API
  - https://api.dart.cn/stable/2.18.1/dart-core/num-class.html
  - https://api.dart.cn/stable/2.18.1/dart-core/int-class.html
  - https://api.dart.cn/stable/2.18.1/dart-core/double-class.html

```dart
void main() {
  // å£°æ˜æ•´æ•°ç±»å‹
  int count = 3;
  print(count);

  // å£°æ˜æµ®ç‚¹æ•°
  double price = 3;
  print(price);

  // å£°æ˜æ•°å€¼ç±»å‹
  num n1 = 3;
  print(n1);

  // ç±»å‹è½¬æ¢
  print(n1.toString());
  print(5.6.toInt());

  // å››èˆäº”å…¥
  print(3.1415926.round());
  print(3.1415926.toStringAsFixed(3));

  // è¿”å›ä½™æ•°
  print(10.remainder(4));

  // æ•°å­—æ¯”è¾ƒï¼š0ï¼šç›¸åŒ 1ï¼šå‰é¢çš„æ•°æ›´å¤§ -1ï¼šå‰é¢çš„æ•°æ›´å°
  print(10.compareTo(12));

  // è¿”å›æœ€å¤§å…¬çº¦æ•°
  print(12.gcd(18));

  // ç§‘å­¦è®¡æ•°æ³•
  print(1000.toStringAsExponential(2));
}

```

### String

+ å£°æ˜å­—ç¬¦ä¸²ï¼ˆStringï¼‰
  - å•ã€åŒå¼•å·éƒ½å¯ä»¥
  - ä¸‰ä¸ªå¼•å·å¯ä»¥å£°æ˜åŒ…å«æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²
+ [å¸¸è§API](https://api.dart.cn/stable/2.18.1/dart-core/String-class.html)
+ æ­£åˆ™è¡¨è¾¾å¼
  - RegExp(r'æ­£åˆ™è¡¨è¾¾å¼')
  - RegExp(r'\d+')

```dart
void main() {
  // å£°æ˜å­—ç¬¦ä¸²
  var str1 = 'hello world';

  print(str1);

  var str2 = "ä½ å¥½ ä¸–ç•Œ";
  print(str2);

  // å£°æ˜å­—ç¬¦ä¸²
  String str3 = 'hello world';

  print(str3);

  String str4 = "ä½ å¥½ ä¸–ç•Œ";
  print(str4);

  // é€šè¿‡ä¸‰ä¸ªå¼•å·å£°æ˜å­—ç¬¦ä¸²
  String str5 = '''Hello
  World
  ''';
  print(str5);

  // å¸¸è§æ“ä½œ
  // å­—ç¬¦ä¸²æ‹¼æ¥
  print(str1 + str2);
  print("$str1 $str2");

  // å­—ç¬¦ä¸²çš„åˆ†éš”
  print(str1.split(''));

  // å­—ç¬¦ä¸²çš„è£åˆ‡
  print('  abc   '.trim());
  print('  abc   '.trimLeft());

  // åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
  print(''.isEmpty);
  print(''.isNotEmpty);

  // å­—ç¬¦ä¸²æ›¿æ¢
  print(str1.replaceAll('world', 'Dart'));
  // æ­£åˆ™æ›¿æ¢
  print('123uu1lj123lkh'.replaceAll(RegExp(r'\d+'), '-'));

  // é€šè¿‡æ­£åˆ™åŒ¹é…æ‰‹æœºå·
  var isPhone = RegExp(r'^1\d{10}$');
  String aPhone = '12357824598';
  print(isPhone.hasMatch(aPhone));

  // æŸ¥æ‰¾å­—ç¬¦ä¸²
  print(str1.contains('s'));
  // å®šä½å­—ç¬¦ä¸²
  print(str1.indexOf('o'));
}

```

### Boolean

+ Darté€šè¿‡boolå…³é”®å­—æ¥è¡¨ç¤ºå¸ƒå°”ç±»å‹
+ å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼štrueå’Œfalse
+ å¯¹å˜é‡è¿›è¡Œåˆ¤æ–­æ—¶ï¼Œè¦æ˜¾å¼åœ°æ£€æŸ¥å¸ƒå°”å€¼
  - Error: if (varname) {...}
  - OK: if (varname == 0) {...}
  - OK: if (varname == null) {...}

```dart
void main() {
  // å£°æ˜å¸ƒå°”ç±»å‹
  bool flag1 = true;
  print(flag1);

  bool flag2 = false;
  print(flag2);

  // æ˜¾å¼åœ°è¿›è¡Œåˆ¤æ–­
  // darté‡Œé¢æ²¡æœ‰ä¸‰ä¸ªç­‰å·ï¼Œå¼ºç±»å‹è¯­è¨€
  var flag3;
  if (flag3 == null) {
    print('Yes');
  } else {
    print('No');
  }

  // ä¸€äº›ç‰¹æ®Šçš„åˆ¤æ–­åœºæ™¯
  var n1 = 0 / 0;
  print(n1); // NaN
  print(n1.isNaN);
}

```

### List

+ Dartä¸­çš„æ•°ç»„ï¼Œç”±Listå¯¹è±¡è¡¨ç¤ºã€‚æœ‰ä¸¤ç§å£°æ˜æ–¹å¼
  - å­—é¢é‡æ–¹å¼
    + List list = []; // ä¸é™å®šå…ƒç´ çš„æ•°æ®ç±»å‹
    + List list = &lg;int&gt;[]; // é™å®šå…ƒç´ çš„æ•°æ®ç±»å‹æ˜¯int
  - æ„é€ å‡½æ•°æ–¹å¼
    + List list = new List.empty(growable: true); // ä¸é™åˆ¶é•¿åº¦çš„ç©ºåˆ—è¡¨
    + List list = new List.filled(3, 0); // å£°æ˜æŒ‡å®šé•¿åº¦çš„å¡«å……åˆ—è¡¨
+ æ‰©å±•æ“ä½œç¬¦ï¼ˆ...ï¼‰
  - var list = [1,2,3];
  - var list2 = [0, ...list]; // [0,1,2,3]
+ [å¸¸ç”¨API](https://api.dart.cn/stable/2.18.1/dart-core/List-class.html)

#### å¸¸è§æ“ä½œ

```Dart
void main() {
  // å£°æ˜List - å­—é¢é‡
  List l1 = ['a', 'b', 'c', 1, 2, 3];
  print(l1); // [a, b, c, 1, 2, 3]

  // é™å®šå…ƒç´ ç±»å‹çš„å£°æ˜æ–¹å¼
  List l2 = <int>[1, 2, 3];
  print(l2); // [1, 2, 3]

  // é€šè¿‡æ„é€ å‡½æ•°çš„å£°æ˜æ–¹å¼
  // growable = false ä¸èƒ½æ·»åŠ å…ƒç´ 
  var l3 = new List.empty();
  print(l3); // []
  // l3.add(1);
  // print(l3);

  var l4 = new List.empty(growable: true);
  l4.add(1);
  print(l4); // [1]

  var l5 = new List.filled(3, 6);
  print(l5); // [6, 6, 6]

  // æ‰©å±•æ“ä½œç¬¦
  var l6 = [0, ...l5];
  print(l6); // [0, 6, 6, 6]

  var l7;
  // 'Null' is not a subtype of type 'Iterable<dynamic>'
  // var l8 = [7, ...l7];
  var l8 = [8, ...?l7];
  print(l8); // [8]

  // è¿”å›åˆ—è¡¨çš„é•¿åº¦
  print(l1.length); // 6

  // åˆ—è¡¨çš„åè½¬
  print(l1.reversed); // (3, 2, 1, c, b, a)
  print(l1.reversed.toList()); // [3, 2, 1, c, b, a]

  // æ·»åŠ å…ƒç´ 
  l4.addAll([4, 5, 6]);
  print(l4); // [1, 4, 5, 6]

  // åˆ é™¤å…ƒç´ 
  l4.remove(6);
  print(l4); // [1, 4, 5]

  // æ ¹æ®ä¸‹æ ‡åˆ é™¤å…ƒç´ 
  l4.removeAt(1); // åˆ é™¤ä¸‹æ ‡ä¸º1çš„å…ƒç´ 
  print(l4); // [1, 5]

  // åœ¨æŒ‡å®šçš„ä½ç½®æ·»åŠ å…ƒç´ 
  l4.insert(1, 9);
  print(l4); // [1, 9, 5]

  // æ¸…ç©º
  l4.clear();
  print(l4); // []
  print(l4.isEmpty); // true

  // åˆå¹¶å…ƒç´ 
  List words = ['hello', 'world'];
  print(words.join('-')); // hello-world
}

```

#### éå†List

+ forEach()
  - éå†åˆ—è¡¨
+ map()
  - éå†å¹¶å¤„ç†å…ƒç´ ï¼Œç„¶åç”Ÿæˆæ–°çš„åˆ—è¡¨
+ where()
  - è¿”å›æ»¡è¶³æ¡ä»¶çš„æ•°æ®
+ any()
  - åªè¦æœ‰ä¸€é¡¹æ»¡è¶³æ¡ä»¶ï¼Œå³è¿”å›true
+ every()
  - åˆ¤æ–­æ˜¯å¦æ¯ä¸€é¡¹éƒ½æ»¡è¶³æ¡ä»¶ï¼Œéƒ½æ»¡è¶³æ¡ä»¶æ‰è¿”å›true

```dart
void main() {
  var nums = [2, 4, 6, 7, 8];

  // for å¾ªç¯è¿›è¡Œéå†
  for (var i = 0; i < nums.length; i++) {
    print(nums[i]);
  }

  // for ... in
  for (var item in nums) {
    print(item);
  }

  // forEach
  nums.forEach((element) {
    print(element);
  });

  // map
  var newNums = [];
  for (var i = 0; i < nums.length; i++) {
    newNums.add(nums[i] * nums[i]);
  }
  print(newNums); // [4, 16, 36, 49, 64]

  var newMapNums = nums.map((e) => e * e);
  print(newMapNums); // å¾—åˆ°çš„æ˜¯å¯è¿­ä»£å¯¹è±¡ (4, 16, 36, 49, 64)
  print(newMapNums.toList()); // [4, 16, 36, 49, 64]

  // where() è¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
  // åˆ¤æ–­æ•°å­—æ˜¯å¦æ˜¯å¥‡æ•°
  bool isOdd(n) => n % 2 == 1;
  var oddNum = nums.where((element) => isOdd((element)));
  print(oddNum); // (7)

  // ä½¿ç”¨ any() æ¥æ£€æµ‹æ˜¯å¦æœ‰å¥‡æ•°ï¼ˆè‡³å°‘ä¸€ä¸ªï¼‰
  print(nums.any(isOdd)); // true
  // ä½¿ç”¨ every() æ¥åˆ¤æ–­æ˜¯å¦éƒ½æ˜¯å¥‡æ•°
  print(nums.every(isOdd)); // false

  // æ‰©å±•
  var pairs = [
    [1, 2, 3],
    [4, 5, 6]
  ];
  // expand é™ä¸€çº§
  var flattened = pairs.expand((element) => element).toList();
  print(flattened); // [1, 2, 3, 4, 5, 6]

  // æŠ˜å 
  int result =
      [1, 2, 3].fold(2, (previousValue, element) => previousValue * element);
  print(result); // 12 = 2 * 1 * 2 * 3
}

```

### Set

+ Setæ˜¯ä¸€ä¸ªæ— åºçš„ï¼Œå…ƒç´ å”¯ä¸€çš„é›†åˆ
+ Setæœ‰å­—é¢é‡å’Œæ„é€ å‡½æ•°ä¸¤ç§å£°æ˜æ–¹å¼ï¼ˆå­—é¢é‡ä¸­ç”¨å¤§æ‹¬å·ï¼‰
+ æ— æ³•é€šè¿‡ä¸‹æ ‡å–å€¼
+ å…·æœ‰é›†åˆç‰¹æœ‰çš„æ“ä½œ
  - ä¾‹å¦‚ï¼šæ±‚äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ç­‰
+ [å¸¸ç”¨API](https://api.dart.cn/stable/2.18.1/dart-core/Set-class.html)

```dart
void main() {
  // å­—é¢é‡
  var nums = <int>{1, 2, 2, 3, 4};
  print(nums); // {1, 2, 3, 4}

  // æ„é€ å‡½æ•°
  var fruits = new Set();
  fruits.add('apple');
  fruits.add('apple');
  fruits.add('orange');
  print(fruits); // {apple, orange}
  print(fruits.toList()); // [apple, orange]
  print(fruits.toList().toSet()); // {apple, orange}

  List newNums = [1, 2, 3, 3, 4];
  print(newNums.toSet()); // {1, 2, 3, 4}

  var caocao = new Set();
  caocao.addAll({'å¼ è¾½', 'å¸é©¬æ‡¿', 'å…³ç¾½'});

  var liubei = new Set();
  liubei.addAll(['å…³ç¾½', 'å¼ é£', 'è¯¸è‘›äº®']);

  // æ±‚äº¤é›†
  print(caocao.intersection(liubei)); // {å…³ç¾½}
  // æ±‚å¹¶é›†
  print(caocao.union(liubei)); // {å¼ è¾½, å¸é©¬æ‡¿, å…³ç¾½, å¼ é£, è¯¸è‘›äº®}
  // æ±‚å·®é›†
  print(caocao.difference(liubei)); // {å¼ è¾½, å¸é©¬æ‡¿}
  // è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
  print(caocao.first); // å¼ è¾½
  // è¿”å›æœ€åä¸€ä¸ª
  print(caocao.last); // å…³ç¾½
}

```

### Map

+ Mapæ˜¯ä¸€ä¸ªæ— åºçš„é”®å€¼å¯¹æ˜ å°„ï¼Œé€šå¸¸è¢«ç§°ä½œå“ˆå¸Œæˆ–å­—å…¸
+ å£°æ˜æ–¹å¼
  - var map = {key1: value1,key2: value2};
  - var map = new Map();
  - may['key'] = value;
+ [å¸¸ç”¨API](https://api.dart.cn/stable/2.18.1/dart-core/Map-class.html)

```dart
void main() {
  // å­—é¢é‡
  var person = {'name': 'xiaoming', 'age': 18};
  print(person); // {name: xiaoming, age: 18}

  // æ„é€ å‡½æ•°
  var p1 = new Map();
  p1['name'] = 'å¼ ä¸‰';
  p1['age'] = 22;
  print(p1); // {name: å¼ ä¸‰, age: 22}

  // è®¿é—®å±æ€§
  print(p1['name']); // å¼ ä¸‰

  // åˆ¤æ–­ Map ä¸­çš„ key æ˜¯å¦å­˜åœ¨
  print(p1.containsKey('name')); // true
  print(p1.containsKey('xxx')); // false

  // èµ‹å€¼
  // å¦‚æœ key ä¸å­˜åœ¨ æˆ‘ä»¬æ‰èµ‹å€¼ ï¼ˆå¦‚æœkeyå·²ç»å­˜åœ¨ï¼Œåˆ™ä¸èµ‹å€¼ï¼‰
  p1.putIfAbsent('gender', () => 'ç”·'); // {name: å¼ ä¸‰, age: 22, gender: ç”·}
  print(p1);
  p1.putIfAbsent('gender', () => 'å¥³'); // {name: å¼ ä¸‰, age: 22, gender: ç”·}
  print(p1);

  // è·å– Map ä¸­æ‰€æœ‰çš„ key
  print(p1.keys); // (name, age, gender)
  print(p1.values); // (å¼ ä¸‰, 22, ç”·)

  // æ ¹æ®æ¡ä»¶è¿›è¡Œåˆ é™¤
  p1.removeWhere((key, value) => key == 'gender');
  print(p1); // {name: å¼ ä¸‰, age: 22}
}

```

### å…¶ä»–

+ Runes(ç¬¦æ–‡)
  - Runeså¯¹è±¡æ˜¯ä¸€ä¸ª32ä½å­—ç¬¦å¯¹è±¡ï¼Œå®ƒå¯ä»¥æŠŠæ–‡å­—è½¬æˆæˆç¬¦å·è¡¨æƒ…æˆ–ç‰¹å®šçš„æ–‡å­—
  - print('\u{1f44d}')
  - https://copychar.cc/
+ Symbol
  - åœ¨Dartä¸­ç¬¦å·ç”¨#å¼€å¤´æ¥è¡¨ç¤ºæ ‡è¯†ç¬¦
+ dynamic
  - åŠ¨æ€æ•°æ®ç±»å‹

```dart
void main() {
  var str = 'ğ“€ƒ';
  print(str.length); // 2
  print(str.runes.length); // 1

  // Runes å¯ä»¥å°† UTF-å­—ç¬¦é›†è¡¨ç¤ºçš„å†…å®¹è½¬æ¢æˆç¬¦å·
  Runes input = new Runes('\u{1f680}');
  print(new String.fromCharCodes(input)); // ğŸš€

  // Symbol
  var s1 = #abc;
  print(s1); // Symbol("abc")

  var s2 = new Symbol('abc');
  print(s2); // Symbol("abc")
  print(#abc == new Symbol('abc')); // true
  print(s1 == s2); // true

  // å£°æ˜åŠ¨æ€ç±»å‹çš„å˜é‡
  dynamic foo = 'bar';
  foo = 123;
  print(foo); // 123
}

```