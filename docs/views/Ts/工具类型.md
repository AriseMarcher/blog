---
title: TypeScript工具类型
date: 2022/10/25 17:00:00
tags:
 - TypeScript
categories:
 -  TypeScript
---

TypeScript提供了数种应用程序类型来促进常用类型转换。这些应用程序适用于全局。

[英文地址](https://www.typescriptlang.org/docs/handbook/utility-types.html)

```
npm install typescript -g
tsc your-file.ts
```

### `Awaited<Type>`

这种类型旨在模拟异步函数中的await或是Promise上的`.then()`方法，特别是他们递归解包Promise的方式

```ts
// the Promise then resolve is string
type A = Awaited<Promise<string>>;

// the Promise then the promise resolve is number
type B = Awaited<Promise<Promise<number>>>;

// the Promise is boolean or then resolve number
type C = Awaited<boolean | Promise<number>>;
```

### `Partial<Type>`

Partial：部分的意思

构建一个类型，其中Type的所有属性都设置为可选。此应用程序将返回一个表示给定类型的所有子集的类型。

可以理解为你需要其中的一部分就可以使用该类型

```ts
interface Todo {
  title: string;
  description: string;
}

function updateTodo(todo: Todo, fieldsToUpdate: Partial<Todo>) {
  return { ...todo, ...fieldsToUpdate }
}

const todo1 = {
  title: "organize desk",
  description: "clear clutter",
};

/**
 * {
 *  description: "throw out trash",
 *  title: "organize desk"
 * }
 */
const todo2 = updateTodo(todo1, {
  description: "throw out trash"
})

// warning this is error
// 'other' does not exist in type 'Partial<Todo>'
// const todo3 = updateTodo(todo1, {
//   description: "throw out trash",
//   other: 'the other message'
// })
```
