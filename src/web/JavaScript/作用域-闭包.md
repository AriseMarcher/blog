---
title: 作用域-作用域链-闭包
icon: object-group
excerpt: 世界上最宽阔的是海洋，比海洋更宽阔的是天空，比天空更宽阔的是人的心灵 --雨果（法国）
excerptLength: 100
category:
  - JavaScript
tag:
  - 基础
---

## 作用域和作用域链（Scope Chain）

当进入到一个执行上下文时，上下文也会关联一个作用域链
+ 作用域链是一个对象列表，用于变量标识符的求值；
+ 当进入一个执行上下文时，这个作用域链被创建，并且根据代码类型，添加一系列的对象；

## JavaScript内存管理

不管什么样的编程语言，在代码的执行过程中都是需要给它分配内存的，不同的是某些编程语言需要手动的管理内存，某些编程语言会自动帮助我们管理内存

不管以什么样的方式来管理内存，内存的管理都会有如下的生命周期：
+ 分配申请你需要的内存（申请）
+ 使用分配的内存（存放一些东西，比如对象等）
+ 不需要使用时，对其进行释放

不同的编程语言对于申请和释放会有不同的实现

+ 手动管理内存：比如C、C++
+ 自动管理内存：比如Java、JavaScript、Python、Swift、Dart

内存分配方式

+ Js对于原始数据类型内存的分配会在执行时，直接在栈空间进行分配；
+ Js对于复杂数据类型内存的分配会在堆内存中开辟一块空间，并且将这块空间的指针返回值变量引用

## JavaScript的垃圾回收

因为内存的大小是有限的，所以当内存不在需要的时候，我们需要对其进行释放，以便腾出更多的内存空间

在手动管理内存的语言中，我们需要通过一些方式自己来释放不在需要的内存，比如free函数：
+ 但是这种管理的方式其实非常非常的低效，影响我们编写逻辑的代码的效率；
+ 并且这种方式对开发者的要求也很高，并且一不小心就会产生内存泄漏；

所以大部分现代的编程语言都是有自己的垃圾回收机制：

+ 垃圾回收的英文是Garbage Collection，简称GC；
+ 对于那些不再使用的对象，我们都称之为垃圾，它需要被回收，以释放更多的内存空间；
+ 而我们的语言运行环境，比如Java的运行环境JVM，JavaScript的运行环境js引擎都会内存垃圾回收器
+ 垃圾回收器我们也会简称为GC，所以在很多地方你可以看到GC其实指的是垃圾回收器。

常见的GC算法--引用计数（Reference counting）

+ 当一个对象有一个引用指向它时，那么这个对象的引用就+1；
+ 当一个对象的引用为0时，这个对象就可以被销毁掉；

这个算法有一个很大的弊端就是会产生循环引用；

常见的GC算法-- 标记清除

## 闭包的概念理解

## 闭包的形成过程

## 闭包的内存泄露

