---
title: React-- react ssr
sidebar: true
excerpt: 人生天地之间，若白驹过隙，忽然而已。-- 庄子
tags:
 - react
categories:
 - react
---

## 介绍

### 客户端渲染

+ CSR: Client Slide Rendering
+ 服务端仅返回JSON数据，DATA和HTML在客户端进行渲染

### 服务端渲染

+ SSR: Server Slide Rendering
+ 服务器返回HTML，DATA和HTML在服务器端进行渲染

#### 客户端渲染存在的问题

+ 首屏等待时间长，用户体验差
+ 页面结构为空，不利于SEO

客户端渲染过程：

1. 客户端向服务端发送请求获取当前应用的首页面
2. 服务端接收后做出响应，返回一个空的HTML文档（只包含css和js外链）
3. 请求的过程中用户处于等待状态，页面当中是没有内容的
4. 浏览器执行空的HTML文档，需要进一步向服务器端发送请求获取外链文件
5. 获取外链文件的过程中，客户端还是处于等待状态，用户还是看不到内容。
  当客户端把对于的外链文件加载完成以后，执行对应的js文件，在执行js文件的过程中又要向服务器端发送请求，获取当前页面所需要的数据。请求数据的时间内，用户还是看不到最新的数据.
6. 当数据请求完成之后，客户端要使用javascript把json数据和html拼接好，最好在把拼接好的结果显示到页面中，最后才能看到该应用的首页面。


服务端渲染过程：

1. 客户端向服务端发送请求获取当前应用的首页面
2. 服务器端接受到该请求后，服务器端会把数据和html拼接好，把该结果返回给客户端
3. 请求的过程和响应的过程浏览器还是处理等待状态的
4. 浏览器执行返回的结果，在响应的html文档中是包含html与数据的，此时用户是能见到内容的，只不过是静态内容。
5. 之后浏览器会去请求相应的js文件获取新的数据，之后就会呈现最新的内容

#### React SSR同构

同构指的是代码复用，即实现客户端和服务端最大程度的代码复用。
